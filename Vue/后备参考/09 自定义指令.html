<!DOCTYPE html>
<html lang="zh-Hans">
<head>
	<meta charset="UTF-8">
  <title>动态组件</title>
  <style>
  	#app {margin-bottom: 30px;}
  	li {list-style: none;}
    
  </style>
  
</head>

<body>
	<div id="app">

		<!-- 1 需求1: 页面刚渲染就自动focus输入框 -->

		<!-- S1 自定义一个指令/函数 实现这种效果，相当于实现一个开关 -->

		<!-- S2.1 如何自定义一个指令: 相当于自定义一个指令，名称改为 directives-->
    <!-- S2.2 如何创建函数逻辑: vue提供了自定义指令的 钩子函数 + 提供了一些相关信息的参数 -->

    <input type="text" v-focus>

    <!-- 2 需求2: 了解自定义指令的相关信息参数 -->
    <div v-test:boom.once="eventname"></div>

    

	</div>

	<script src="https://cdn.bootcss.com/vue/2.6.8/vue.js"></script> 
	<!-- <script> Vue.config.devtools = true</script> -->

	<script>
    let app = new Vue({
      el: '#app',
      data: {	
        current: 'tab1',
        eventname: 'click123'
      },
      directives: {
        focus: {
          inserted(el){
            el.focus()
          }
          
        },
        
        test: {
          bind(el, binding, vnode){
            var s = JSON.stringify
            el.innerHTML = `
              name: -- ${s(binding.name)} <br>
              value:-- ${s(binding.value)} <br>
              expression:-- ${s(binding.expression)} <br>   
              arg:-- ${s(binding.arg)} <br>
              modifier:-- ${s(binding.modifiers)} <br>
              vnode:-- ${Object.keys(vnode)} <br>


            `
            console.log(el)
           

          }
        }


      } 
    })
      
	</script>
	
</body>
</html>

