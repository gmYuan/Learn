<!DOCTYPE html>
<html lang="zh-Hans">
<head>
	<meta charset="UTF-8">
  <title>子组件传入父组件数据</title>
  <style>
  	#app {margin-bottom: 30px;}
  	li {list-style: none;}
  </style>
  
</head>

<body>
	<div id="app">
		<!-- 需求: 子组件可以修改父组件金额数据 -->
		<div>
			当前父组件的数据金额是:  {{price}}
		</div>

		<child-component :price="price" @changemoney="showprice"></child-component>
		<!-- 操作步骤: -->
		<!-- S1 设置父组件数据，并通过props传入子组件 + 保存到data -->
		
		<!-- S2.1 子组件设置点击事件，绑定对应回调 -->
		<!-- S2.2 内部回调定义好后， 在内部传出 自定义事件名+数据-->
		<!-- S2.3 在子组件上订阅自定义事件 + 设置父组件的回调 -->

		<!-- S3.1 父组件的回调，定义在父组件的methods上 -->

		
		




			
	</div>

	<script src="https://cdn.bootcss.com/vue/2.6.8/vue.js"></script> 
	<!-- <script> Vue.config.devtools = true</script> -->

	<script>
    let app = new Vue({
      el: '#app',
      data: {
				price: 2000
      },
      components: {
      	'child-component': {
      		props:['price'],
      		data(){
      			return {
      				count: this.price
      			}
      		},
      		template: `
      			<div style="margin-top: 20px">
      			  <button @click="addprice">增加100金</button>
						  <button @click="minusprice">减少100金</button>
						</div>
      		`,
      		methods: {
      			addprice(){
      				this.count = this.count + 100
      				this.$emit('changemoney', this.count)
      			},
      			minusprice(){
      				this.count = this.count - 100
      				this.$emit('changemoney', this.count)
      			}
      		}
      	}
      },
      methods: {
      	showprice(value){
      		this.price = value
      	}


      }
      	
    })
      
	</script>

</body>
</html>

