<!DOCTYPE html>
<html lang="zh-Hans">

<head>
	<meta charset="UTF-8">
	<title>is + ref特性</title>

	<style>
		/* reset部分 */
		h4 {
			padding:0;
			margin: 0;
		}
		.gram {
			padding-bottom: 20px;
		}
		

	</style>

</head>

<body>
	<div id="app">

		<!-- 例1 -->
		<div>
			<h4> is特性修复 组件渲染问题 </h4>
			<div class="gram"> 语法: is="自定义组件名" </div>

			<table border="1">
				<tbody>
					<my-row></my-row>
					<my-row></my-row>
					<my-row></my-row>
				</tbody>
			</table>
			<br>

			<table border="1">
				<tbody>
					<tr is="my-row"></tr>
					<tr is="my-row"></tr>
				</tbody>
			</table>

		</div>
		<hr>

		<!-- 例2 -->
		<div>
			<h4> ref特性 获取DOM元素/子组件实例信息 </h4>
			<div class="gram"> 语法: ref="ref特性名称" + 信息都会注册到父组件的$refs数组中 </div>

			<one-num @change-num="getNum" ref="one"></one-num>
			<one-num @change-num="getNum" ref="two"></one-num>

			两个子组件的总计Num是: {{total}}

		</div>
		<hr>

	</div>


	<script src="https://cdn.bootcss.com/vue/2.6.5/vue.js"></script>

	<script>
		let app = new Vue({
			el: '#app',

			// 例2数据
			data:{
				total: 0
			},

			//例2方法
			methods: {
				getNum(){
					// console.log(this.$refs.one.num)
					// console.log(this.$refs.two.num)
					this.total = this.$refs.one.num + this.$refs.two.num
				}

			},
			
			components: {
				// 例1组件
				'my-row': {
					template: '<tr><td>{{msg}}</td><td>{{msg}}</td></tr>',
					data(){
						return {
							msg: '我是一行数据,直接渲染是有问题的'
						}
					}
				},

				// 例2组件
				'one-num': {
					template: '<div> <button @click="addone">{{num}}</button> </div>',
					data(){
						return {
							num: 0
						}
					},
					methods: {
						addone(){
							this.num++
							this.$emit('change-num')
						}
					}
				}
			}
				
			


		})
	</script>

</body>

</html>

