<!DOCTYPE html>
<html lang="zh-Hans">

<head>
	<meta charset="UTF-8">
	<title>动态组件is + v-once</title>

	<style>
		/* reset部分 */
		h4 {
			padding:0;
			margin: 0;
		}
		.gram {
			padding-bottom: 20px;
		}


		li {list-style: none;}
    .boxstyle {
      padding: 6px 10px;
      border-top-left-radius: 3px;
      border-top-right-radius: 3px;
      border: 1px solid #ccc;
      cursor: pointer;
      background: #f0f0f0;
      margin-bottom: -1px;
      margin-right: -1px;
    }
    .active {
      border: 2px solid #ffc8c3;
    }
		

	</style>

</head>

<body>
	<div id="app">

		<!-- 例1 动态组件切换-->
		<div>
			<h4> 动态tab切换显示A/B/C子组件 </h4>
			<div class="gram"> 语法: component + :is  </div>

			<div>
      	<button 
      		v-for="box in boxs" 
      		:class="[boxstyle, {active: box===current}]" 
      		@click='showactive(box)'
      	>
        	{{box}}
      	</button>
    	</div>

    	<!-- :is可以传入一个计算属性，只要结果返回的是 组件名称的字符串即可 -->
    	<component :is="showcontent"></component>

		</div>
		<hr>


		<!-- 例2 v-once指令-->
		<div>
			<h4> v-once指令 </h4>
			<div class="gram"> 语法: v-once  </div>

			<p v-once>我的内容是：{{msg}}，而且我渲染一次后就不会变化了</p>

			
		</div>
		<hr>

		

		

	</div>

	
	<script src="https://cdn.bootcss.com/vue/2.6.5/vue.js"></script>

	<script>

		
		let app = new Vue({
			el: '#app',
			data: {	
      	boxs: ['a', 'b', 'c'],
        boxstyle: 'boxstyle',
        current: 'a',

        // 例2数据
        msg: 'Hello, yc!'
      },

      methods: {
        showactive(box){
          this.current = box
        }
      },
      computed:{
        showcontent(){
          return this.current + '-child'
        }
      },


			components: {
				// 例1组件
      	'a-child': {
      		template: `
      		  <div>
      		    组件A内容---aaaa
      		  </div>
      		`
      	},

				'b-child': {
      		template: `
						<div>
							组件B内容---bbbbb
						</div>
      		`
      	},

				'c-child': {
      		template: `
						<div>
							组件C内容--- ccccc
						</div>
      		`
      	},

      },
			
	})
	</script>

</body>

</html>

