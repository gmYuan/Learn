# 组建注册 + 父子组件通信

目录:

1 [预读文档](#1)

2 [组件注册](#2)

3 [父子组件通信](#3)


## <span id="1">1 预读文档 </span>

1.1 [官方文档_ 组件基础](https://cn.vuejs.org/v2/guide/components.html)

1.2 [官方文档_ 深入了解组件_组件注册](https://cn.vuejs.org/v2/guide/components-registration.html)

阅读原因: 直接参考文档

2 [组件注册+父子组件通信](https://github.com/gmYuan/my_learn/blob/master/Vue/code/07%20%E7%BB%84%E4%BB%B6%E6%B3%A8%E5%86%8C%2B%E7%88%B6%E5%AD%90%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1.html)

阅读原因: 示例代码文件


## <span id="2">2 组件注册 </span>

1 Q: 为什么要引入 组件注册

A:
S1 只有先注册组件，后续才能使用 组件

S2 组件注册 分为全局注册和局部注册

S3.1 全局注册的优点是组件在子组件内部之间也可以直接随意使用; 缺点是打包时未使用的组件也会被webpack引入,影响性能

S3.2 局部注册则相反，一般推荐使用局部组件


2 Q: 如何注册组件

A: 具体参见预读文档中的 代码示例


## <span id="3">3 父子组件通信 </span>

1 Q: 如何实现 父组件向子组件通信

A:
S1 在子组件的html标签中，固定传入/动态传入 自定义的属性，如 `<inner-component :price="father-num">`

S2 在子组件内部配置对象中，通过`props: ['price', '....']`接收到传递过来的数据值

S3 在子组件内部的 data(){}/computed(){}中，通过`this.price` 使用传递的数据值


2 Q: 如何实现 子组件向父组件通信

A:
S1 设置父组件数据，并通过 子组件标签+props 传入子组件，并保存到data(防止引用类型修改被子组件共用)

S2.1 子组件template内容 设置交互事件，绑定对应回调
S2.2 子组件内部回调定义好后， 在内部传出通过`this.$emit('自定义事件名', 数据)`

S3.1 在子组件标签上监听自定义事件 + 设置父组件的回调
S3.2 在父组件的回调内部，使用/处理 子组件传出的数据


以上具体代码，参见预读文档中的 代码示例