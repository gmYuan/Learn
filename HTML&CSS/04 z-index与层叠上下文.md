# 层叠上下文


目录

1 [预读文档](#1)

2 [层叠上下文](#2)

3 [层叠等级](#3)

4 [层叠顺序](#4)

5 [覆盖顺序](#5)



## <span id="1"> 1 预读文档</span>

1 阅读文档有:

01 [CSS中重要的层叠概念](https://juejin.im/post/5ba4efe36fb9a05cf52ac192)

阅读原因: 非常详细，首选参考

02 [彻底搞懂CSS层叠上下文、层叠等级、层叠顺序、z-index](https://juejin.im/post/5b876f86518825431079ddd6#heading-5)

阅读原因: 基本同上，不过代码实例很好



## <span id="2"> 2 层叠上下文 </span>

1 Q: 什么是层叠上下文

A:

S1 层叠上下文类似于PS中图层的概念，它可以使 元素在Z轴上的等级提升

S2 元素在Z轴上的优先级越高，它在屏幕上的显示就离观察者越近，可以覆盖在其他元素上


2 Q: 如何触发形成层叠上下文

A:
 
S1 根元素 `<html>标签`

S2 position值为非static的元素 + z-index不为auto

S3 display:flex的元素 + z-index不为auto

S4 transform值不为none的元素

S5 filter值不为none的元素

S6 opacity值小于 1 的元素



## <span id="3"> 3 层叠等级 </span>

1 Q: 什么是层叠等级

A:

S1 层叠等级规定了 元素在Z轴上的先后顺序

S2 普通元素的层叠等级，由其所在的层叠上下文决定

S3 同一层叠上下文中的多个内部元素，层叠等级由z-index值决定



## <span id="4"> 4 层叠顺序 </span>

1 Q: 什么是层叠顺序

A:

S1 层叠顺序具体规定了同一层叠上下文中各个元素的Z轴顺序

S2 换言之，元素的Z轴顺序，优先比较 层叠上下文的层叠等级，同一层叠等级的比较层叠顺序

S3 层叠顺序的规则是:

层叠上下文元素的 背景和边框 < 负z-index值的定位子元素 < 块级元素 < 浮动元素

< 内联元素 < z-index为0/auto的定位元素 < z-index值大于0的定位元素



## <span id="5"> 5 覆盖顺序 </span>

1 Q: 判断元素层叠的逻辑顺序是什么

A:

S1 首先看 要比较的两个元素是否处于同一个层叠上下文中
      

S1.1 如果是，谁的层叠顺序大，谁在上面

S2 如果两个元素不在统一层叠上下文中，则依次比较他们 所属层叠上下文的 层叠等级、层叠顺序

S3 当两个元素所属的 层叠等级相同、层叠顺序相同时，DOM结构中 后面的元素在前面元素上面

