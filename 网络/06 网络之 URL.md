# HTTP之 URL

Q1 什么是URL，为什么要有URL
A:
S1 URL定位了 任意一个主机内的 某一份资源的精确位置
S2 通过传输层，我们可以进行 任意2台主机之间的通话，但是还无法精确定位到 一个主机内 的某个具体资源
S3 有了URL，就明确定义了 请求方所需要的唯一资源是什么
S4 注意，这里的资源，既可以是网络资源，也可以是 本地文件/邮件系统等

----
Q2 URL的格式是什么
A:
S1 URL的格式是：`scheme://host:port path?query#fragment`
  - scheme：协议名/方案名，表示 资源应该使用哪种协议 进行访问，常见的协议有 http/https/ftp/file等
  - :// 为特定字符
  - host:port：表示资源所在的主机名 ，通常是主机名（IP地址/者域名）加 端口号
  - path：标记资源所在的位置，path部分必须以 "/" 开始
  - fragment：片段标识符，它是 URI所定位的资源 内部的一个 锚点/标签，仅由客户端使用

![URL格式图](https://gitee.com/ygming/blog-img/raw/master/img/http_4.png)

------
Q3 URL的编码是什么
A:
S1 有些时候，URL内部的path/query部分，含有一些特殊的字符，如 "@&?"等，如果不进行特殊处理，就会造成URL的解析发生错误
S2 所以URI 引入了 编码机制，对 ASCII码以外的字符集 和 特殊字符做一个特殊的操作，即所谓的 "转义"

S3 URI转义规则：直接把 非ASCII码或特殊字符 转换成 十六进制字节值，然后前面加上一个“%”
  - 空格 被转义成 "%20"
  - "?" 被转义成 "%3F"
  - 中文/日文等则通常使用 UTF-8编码后再转义，如 "银河" 会被转义成 "%E9%93%B6%E6%B2%B3"