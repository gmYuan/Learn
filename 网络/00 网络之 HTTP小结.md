# 网络之 HTTP小结

Q1: HTTP有哪些特点
A:
S1 它是灵活可扩展的，可以任意添加头字段 实现自定义功能

  - HTTP协议一开始只规定了报文的基本格式，报文的各个组成部分都没有严格的语法语义限制，可以由开发者任意定制
  - 所以在发展过程中，逐渐增加了 请求方法/ 版本号/ 状态码 /头字段等特性
  - body也不再限于 文本形式的 TXT/HTML，而是能够传输 图片/音频视频等任意数据
  - HTTP不限制具体的下层协议，它可以运行在 TCP/SSL/基于UDP的QUIC 上层


S2 可靠传输，基于 TCP/IP 协议 “尽量”保证数据的送达
  - 因为 HTTP协议是基于 TCP/IP 的，而 TCP是一个 “可靠”的传输协议，所以HTTP就继承了这个特性

  - 具体做法是 对实际传输的数据（entity）做一层包装，加上一个头，然后调用 Socket API，通过 TCP/IP 协议栈 发送或者接收

  - "可靠" 传输是指在 网络基本正常的情况下 数据收发必定成功，在 网络繁忙/ 连接质量差等恶劣的环境下，也有可能收发失败


S3  应用层协议，比 FTP/SSH等 更通用/功能更多
  - 只要不太苛求性能，HTTP 几乎可以传递一切东西，满足各种需求
  - 相比其他应用层协议，HTTP 的适用范围更广，应用广泛

S4 HTTP 协议使用的是 请求 - 应答 通信模式 
  - 请求 - 应答模式是 HTTP 协议最根本的通信模型
  - 请求 - 应答模式 也明确了 HTTP 协议里通信双方的定位，永远是请求方先发起连接和请求，是主动的，而应答方只有在收到请求后才能答复，是被动的，如果没有请求时不会有任何动作
  -  请求 - 应答模式 也导致了 WebService/ RESTful/ gPRC 等技术的出现


S5 HTTP 协议是无状态的，每个请求互相独立的，不要求客户端/服务器 记录请求信息
  - “状态”是指 客户端/服务器里保存的一些数据/标志，记录了 通信过程中的一些变化信息
  -  “无状态” 形象地来说就是 “没有记忆能力”

  - HTTP 在整个协议里 没有规定任何的“状态”，客户端和服务器永远是处在一种“ 无知 ”的状态。建立连接前两者互不知情，每次收发的报文也都是互相独立的，没有任何的联系。收发报文也不会对客户端或服务器产生任何影响，连接后也不会要求保存任何信息。

  - 但 HTTP 是“灵活可扩展”的，虽然标准里没有规定“状态”，但完全能够 在协议的框架里给它“打个补丁”，增加这个特性。
  
  - “无状态”的优点是：实现简单/ 减轻服务器负担/ 便于集群化负载均衡
  - “无状态”的缺点是：无法支持 有一系列的多个步骤的“事务”型操作


S6 HTTP是明文传输的，协议里的报文(header)不使用二进制数据，而是用可阅读的文本
  - 优点是 便于阅读和调试
  - 缺点是 传输内容不够安全：明文传输 + 无身份验证 + 无内容完整性校验

------