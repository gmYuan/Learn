# 面向对象之 new的模拟实现

目录:

1 [预读文档](#1)

2 [new 作用介绍](#2)

3 [new 模拟实现](#3)


## <span id="1"> 1 预读文档 </span>

1 [JS深入之 new的模拟实现](https://github.com/mqyqingfeng/Blog/issues/13)


阅读原因: 参考实现文档


## <span id="2"> 2 new作用介绍 </span>

1 Q: new方法的 使用方法 和特点  是什么

A: S1 使用方法 和 特点见下

```js
let ex1 = new Fn()

// S1: 创建一个新对象obj, obj可以访问Fn.prototype的属性/方法  (即obj.__proto__ = Fn.prototype)
// S2: 执行Fn(),其内部this指向 obj
// S3: 判断Fn有无返回值:  有返回值则返回 Fn的返回值;  无返回值则返回 obj
```


## <span id="3"> 3 new 模拟实现 </span>

1: Q: 手写出 new的模拟实现

A: S1 ES3的实现方法

```JS
function mockNew() {
  var Fn = [].shift.call(arguments)
  var obj = Object.create(Fn.prototype)

  var result = Fn.apply(obj, arguments)
  retrun typeof result === "object" ? result : obj
}
```