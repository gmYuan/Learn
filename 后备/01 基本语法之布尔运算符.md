# 基本语法之 布尔运算符



## 前言



最近学习了JS布尔运算符的相关知识，所以对其做一个小结



目录



1 [概述](#1)



2 [取反运算符(!)](#2)

3 [且运算符(&&)](#3)

4 [或运算符(||)](#4)

5 [三元条件运算符(?:)](#5)






## <span id="1">一 概述</span>



1 作用: 布尔运算符用于 将表达式转为布尔值，一共包含四个运算符: 

- 取反运算符：!

- 且运算符：&&

- 或运算符：||

- 三元运算符：?:





## <span id="3">三 且运算符(&&)</span>

1 运算规则: 

S1 趋向返回 第一个布尔值为false的 表达式的值（注意是值，不是布尔值）

> PS: 5个falsy值是:  0、NaN、空字符串（""）、null、undefined

S2 如果第一个运算子的布尔值为false，则直接返回第一个运算子的值，且不再对第二个运算子求值,

   这种跳过第二个运算子的机制，被称为“短路”

S3 如果所有表达式的 布尔值都为true，则返回 最后一个表达式的值


```js

// 例1
't' && '' 	// ""
't' && 'f' 	// "f"
't' && (1 + 2)  // 3
'' && 'f' 	// ""
'' && '' 	// ""

var x = 1
(1 - 1) && ( x += 1)    // 0，第一个运算子为false，直接返回它的值0 + 不再对第二个运算子求值，所以x的值没变
x 			// 1

//例2
true && 'foo' && '' && 4 && 'foo' && true    // ''

1 && 2 && 3                                 // 3
```

2 短路可以用来 取代if结构

```js
if (i) {
  doSomething();
}

// 等价于
i && doSomething();
```


## <span id="4">四 或运算符(||)</span>

1 作用: 或运算符也用于 多个表达式的求值

2 运算规则:

S1 趋向返回 第一个布尔值为true的 表达式的值（注意是值，不是布尔值）

S2 如果第一个运算子的布尔值为ture，则直接返回第一个运算子的值，且不再对以后的运算子求值

S3 如果所有表达式的 布尔值都为false，则返回 最后一个表达式的值


```js
// 例1
't' || ''   // "t"
't' || 'f'  // "t"
'' || 'f'   // "f"
'' || ''    // ""

var x = 1;
true || (x = 2) // true
x               // 1，同样有短路规则

//例2
false || 0 || '' || 4 || 'foo' || true   // 4

false || 0 || ''                         // ''

```

3 常用实际: 或运算符常用于 为一个变量设置默认值

```js
function saveText(text) {
  text = text || '';
  // ...
}

// 或者写成
saveText(this.text || '')   // 如果函数调用时，没有提供参数，则该参数默认设置为空字符串
``` 

以上内容可参考

[01 阮一峰教程— 布尔运算符](https://wangdoc.com/javascript/operators/boolean.html)

[02 JS高级程序设计 3.5.3](https://book.douban.com/subject/10546125/)
